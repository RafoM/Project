(this["webpackJsonpmy-app2"]=this["webpackJsonpmy-app2"]||[]).push([[0],{149:function(e,a,t){},157:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(76),c=t.n(l),s=(t(85),t(86),t(32));s.initializeApp({apiKey:"AIzaSyD8U4Ma9TkYobhVJRB02irqXMw6r4AwxFE",authDomain:"gago-cb44b.firebaseapp.com",databaseURL:"https://gago-cb44b.firebaseio.com",projectId:"gago-cb44b",storageBucket:"gago-cb44b.appspot.com",messagingSenderId:"102445019710",appId:"1:102445019710:web:2210d14071a152e851576f"});var o=s.database(),i=t(5),m=t(8),u=t(3),d=t(7);var p=Object(i.g)((function(e){return Object(n.useEffect)((function(){o.ref("users").orderByChild("id").equalTo(s.auth().currentUser.uid).on("child_added",(function(a){0!=a.val().type&&(console.log(e),e.history.push("/"))}))}),[]),r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-sm bg-dark"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(m.b,{className:"nav-link text-white",to:"/teacher"},"Profile")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(m.b,{className:"nav-link text-white",to:"/addTest"},"Add Test")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(m.b,{className:"nav-link text-white",to:"/mytests"},"My Tests")),r.a.createElement("li",null,r.a.createElement(m.b,{className:"nav-link text-white",to:"/settings"},"Settings")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(m.b,{className:"nav-link text-white",to:"/"},"Logout")))),r.a.createElement("div",{className:"container"},e.children))}));t(31);var g=function(e){var a=Object(n.useState)({name:"",surname:"",photo:""}),t=Object(d.a)(a,2),l=t[0],c=t[1];return Object(n.useEffect)((function(){o.ref("users").orderByChild("id").equalTo(e.user.uid).on("child_added",(function(e){console.log(e.val()),c(Object(u.a)({},e.val()))}))}),[]),console.log(l.photo),r.a.createElement(p,null,l.photo?r.a.createElement("img",{src:l.photo}):r.a.createElement("img",{className:"profile-pic",src:"https://i.pinimg.com/originals/12/95/85/1295853ea2e3724a42ef18d4b54d9e44.png"}),r.a.createElement("h1",null,l.name," ",l.surname," "),r.a.createElement("p",{className:"text-danger"},"Teacher of Programming!"))};var E=Object(i.g)((function(e){return Object(n.useEffect)((function(){o.ref("users").orderByChild("id").equalTo(s.auth().currentUser.uid).on("child_added",(function(a){1!=a.val().type&&(console.log(e),e.history.push("/"))}))}),[]),r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-sm bg-dark"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(m.b,{className:"nav-link text-white",to:"/student"},"Profile")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(m.b,{className:"nav-link text-white",to:"/list"},"Test List")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(m.b,{className:"nav-link text-white",to:"/results"},"My Results")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link text-white",onClick:function(){return s.auth().signOut()}},"Logout")))),r.a.createElement("div",{className:"container"},e.children))}));var v=function(e){var a=Object(n.useState)({name:"",surname:""}),t=Object(d.a)(a,2),l=t[0],c=t[1];return Object(n.useEffect)((function(){console.log(e.user),console.log(s.auth().currentUser),o.ref("users").orderByChild("id").equalTo(e.user.uid).on("child_added",(function(e){console.log(e.val()),c(Object(u.a)({},e.val()))}))}),[]),r.a.createElement(E,null,r.a.createElement("img",{className:"profile-pic",src:"https://toppng.com/uploads/thumbnail//cool-avatar-transparent-image-cool-boy-avatar-11562893383wqfzf3peop.png"}),r.a.createElement("h1",null,l.name," ",l.surname," "),r.a.createElement("p",{className:"text-danger"},"Student of Programming!"))};t(149);var f=function(e){return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-sm bg-dark"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(m.b,{className:"nav-link text-white",to:"/"},"Login")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(m.b,{className:"nav-link text-white",to:"/signup"},"Signup")))),r.a.createElement("div",{className:"container-fluid bg-cover"},e.children))};var h=function(e){var a=Object(n.useState)({email:"Armen.Marjinyan@gmail.com",password:"111111"}),t=Object(d.a)(a,2),l=t[0],c=t[1],i=Object(n.useState)(""),m=Object(d.a)(i,2),p=m[0],g=m[1];return r.a.createElement(f,null,r.a.createElement("div",{id:"signup-login-wrapper"},r.a.createElement("h1",null," ",r.a.createElement("span",{className:"text-warning p-2"},"#TestLovers")),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h3",null,"Please Login"),r.a.createElement("p",{className:"text-danger"},p),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Login"),r.a.createElement("input",{type:"text",className:"form-control",value:l.email,onChange:function(e){return c(Object(u.a)(Object(u.a)({},l),{},{email:e.target.value}))}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"password"),r.a.createElement("input",{type:"text",className:"form-control",value:l.password,onChange:function(e){return c(Object(u.a)(Object(u.a)({},l),{},{password:e.target.value}))}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-warning",onClick:function(){s.auth().signInWithEmailAndPassword(l.email,l.password).then((function(a){console.log(a.uid),o.ref("users").orderByChild("id").equalTo(a.uid).on("child_added",(function(a){1==a.val().type?e.history.push("/student"):e.history.push("/teacher")}))})).catch((function(e){g(e.message)}))}},"Login ")))),r.a.createElement("p",null,"PROFit Training Center - #React Professional")))};var b=function(e){var a=Object(n.useState)({name:"",surname:"",email:"",password:"",type:0}),t=Object(d.a)(a,2),l=t[0],c=t[1],i=Object(n.useState)(""),m=Object(d.a)(i,2),p=m[0],g=m[1];return r.a.createElement(f,null,r.a.createElement("div",{id:"signup-login-wrapper"},r.a.createElement("h1",null," ",r.a.createElement("span",{className:"text-warning p-2"},"#TestLovers")),r.a.createElement("div",null,r.a.createElement("h3",null,"Please Signup"),r.a.createElement("p",{className:"text-danger"},p),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Login"),r.a.createElement("input",{type:"text",className:"form-control",value:l.email,onChange:function(e){return c(Object(u.a)(Object(u.a)({},l),{},{email:e.target.value}))}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"password"),r.a.createElement("input",{type:"text",className:"form-control",value:l.password,onChange:function(e){return c(Object(u.a)(Object(u.a)({},l),{},{password:e.target.value}))}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",className:"form-control",value:l.name,onChange:function(e){return c(Object(u.a)(Object(u.a)({},l),{},{name:e.target.value}))}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Surname"),r.a.createElement("input",{type:"text",className:"form-control",value:l.surname,onChange:function(e){return c(Object(u.a)(Object(u.a)({},l),{},{surname:e.target.value}))}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Type"),r.a.createElement("select",{className:"form-control",value:l.type,onChange:function(e){return c(Object(u.a)(Object(u.a)({},l),{},{type:e.target.value}))}},r.a.createElement("option",{value:"0"},"Teacher"),r.a.createElement("option",{value:"1"},"Student"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-success",onClick:function(){return console.log(l.password),void s.auth().createUserWithEmailAndPassword(l.email,l.password).then((function(a){var t=Object(u.a)({},l);delete t.password,o.ref("users").push(Object(u.a)({id:a.uid},t)).then((function(){e.history.push("/login")})),console.log(a.uid),g("")})).catch((function(e){g(e.message)}))}},"Sign up ")))))},N=t(43),j=t.n(N),w=t(78),O=t(79),y=t.n(O),x=function(){var e=Object(n.useState)(""),a=Object(d.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)("text-warning"),i=Object(d.a)(c,2),m=i[0],u=i[1],g=Object(n.useState)(0),E=Object(d.a)(g,2),v=E[0],f=E[1],h=Object(n.useState)(""),b=Object(d.a)(h,2),N=b[0],O=b[1],x=function(){var e=Object(w.a)(j.a.mark((function e(a){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l("Upload finished..."),u("text-success"),e.next=4,s.storage().ref("images").child(a).getDownloadURL();case 4:t=e.sent,O(t),o.ref("users").orderByChild("id").equalTo(s.auth().currentUser.uid).on("child_added",(function(e){console.log(e.key),o.ref("users/"+e.key+"/photo").set(t)}));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),k={width:v+"%"};return r.a.createElement(p,null,r.a.createElement("h1",null,"Upload a picture"),r.a.createElement("h4",{className:m},t),r.a.createElement("img",{src:N}),r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:" progress-bar progress-bar-striped",style:k},v)),r.a.createElement(y.a,{accept:"image/*",name:"avatar",randomizeFilename:!0,storageRef:s.storage().ref("images"),onUploadStart:function(){l("started...")},onUploadSuccess:function(e){return x(e)},onProgress:function(e){return function(e){f(e)}(e)}}))},k=function(e){return s.auth().currentUser?r.a.createElement(i.b,{path:e.path,component:e.component}):r.a.createElement(i.a,{to:"/"})},S=function(e){return r.a.createElement(m.a,null,r.a.createElement(i.d,null,r.a.createElement(k,{path:"/student",component:function(){return r.a.createElement(v,e)}}),r.a.createElement(k,{path:"/teacher",component:function(){return r.a.createElement(g,e)}}),r.a.createElement(k,{path:"/settings",component:function(){return r.a.createElement(x,e)}}),r.a.createElement(i.b,{path:"/signup",component:b}),r.a.createElement(i.b,{path:"/",component:h})))};var C=function(e){return r.a.createElement(S,e)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.auth().onAuthStateChanged((function(e){console.log("AUTH------------",e),c.a.render(r.a.createElement(C,{user:e}),document.getElementById("root"))})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},31:function(e,a,t){},80:function(e,a,t){e.exports=t(157)},85:function(e,a,t){},86:function(e,a,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"}},[[80,1,2]]]);
//# sourceMappingURL=main.0cfe3adf.chunk.js.map